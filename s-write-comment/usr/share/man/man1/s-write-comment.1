.\" -*- mode: troff; coding: utf-8 -*-
.TH "S-WRITE-COMMENT" "7" "2019-11-08"
.SH s-write-comment
File comment file writer
.SS Target User
You want to keep comments alongside your files.
.PP
You don\[u2019]t have to but if you use ROX-Filer you will get better integration and
enhanced usability.
.SS Benefits
In essence, this utility does a simple thing: given a target file name, say
\fCTheFile\fR, it creates a comment file alongside named \fCTheFile.txt\fR, and opens
it in your text editor so you can write your free-form comments.
.PP
The advantages in using this utility rather than doing it yourself include:
.IP "\(bu" 2
Point-and-click interaction and sensible defaults take you to edit your
comments in just one click.
.if n \
.sp -1
.if t \
.sp -0.25v
.IP "\(bu" 2
A GTK save file dialog allows saving to another folder or with another name.
.if n \
.sp -1
.if t \
.sp -0.25v
.IP "\(bu" 2
The comment file displays as a tooltip in ROX-Filer(*) when the mouse pointer
hovers over the target file icon.
.if n \
.sp -1
.if t \
.sp -0.25v
.IP "\(bu" 2
ROX-Filer SendTo integration included.
.if n \
.sp -1
.if t \
.sp -0.25v
.IP "\(bu" 2
File system extended attribute (xattr) support.
.LP
\fI(*) Requires a ROX-Filer build patched to enable tooltip comments. The patch is
included in Fatdog64 Linux\f(BI:4\fI (\fI#LINKS\fI) and modern Puppy Linux\f(BI:8\fI (\fI#LINKS\fI) builds.\fR
.SS Installing
This script can be installed from a command line shell prompt.
You must install to \fC/\fR to enable ROX-Filer integration.
.PP
It can be started from a shell prompt.  The installer also adds an \fIinvisible\fR \[u201C]Write Comment\[u201D]
entry in section \[u201C]Utility\[u201D] of the system application menu,
and the ROX-Filer SendTo entry \[u201C]Add Comment File\[u201D].
.PP
First, install all dependencies \[u2014] see section \fIDependencies\fR.
.PP
Then download the latest archive \fBattachment\fR from the release page\fB:1\fR (\fI#LINKS\fR).
Unpack the archive into a folder of your choice.
.PP
From that folder run the following command: \fCinstall/bin/install.sh\fR.
This will start an interactive installer, which includes a Help screen.
.PP
Assuming a successful installation with default settings, you should be able to
run \fC/usr/local/bin/s-write-comment.sh /path/to/file\fR to start this utility.
.PP
\fBImportant\fR \[u2014] After having completed the installation you \fBmust\fR save file
\fCinstall.log\fR, which is located in folder \fCinstall/\fR, if you want to be able to
uninstall this program in the future.  Indeed, it is recommended to save the
whole folder \fCinstall/\fR, which holds the uninstall program and the log file.
.SS Dependencies
Install \fCyad\fR\fB:5\fR (\fI#LINKS\fR).
.IP "\(bu" 2
This utility, and its dependencies, are already included in Fatdog64 since
version 720.
.LP
For ROX-Filer tooltip support, ROX-Filer must be compiled with the \[u201C]tooltip comments\[u201D]
patch. There are at least two kinds of the patch floating around the net:
.IP "\(bu" 2
Fatdog64 720 and Puppy Linux \[u2013] looks for comment file \fC.TheFile.comment\fR for
target file \fCTheFile\fR.
.if n \
.sp -1
.if t \
.sp -0.25v
.IP "\(bu" 2
Fatdog64 800 \[u2013] looks for comment file \fCTheFile.txt\fR for target file \fCTheFile\fR.
.LP
By default this utility supports both kinds.
.SS Uninstalling
From the folder where you unpacked the downloaded archive run the following
command: \fCinstall/bin/uninstall.sh\fR.
This will start an interactive uninstaller, which includes a Help screen.
.SS Configuration through environment variables
\fBTL;DR\fR \[u2013]
For Fatdog64 800+ not to create also a version 720 compatible link file:
add the following line to your user profile file
\fC\(ti/.fatdog/profile\fR, log out and log in again:
.LP
.EX
export COMMENT_OPTIONS=--no-symlink
.EE
.LP
.PP
S-write-comment does not provide a user configuration file to set preferences. Instead
it expects preferences to be set in the form of environment variables, which a
user can either set when invoking a single dndmate instance, or set in the user
profile file to affect all future invocations.
(Changes to the user profile file are effective at the next login).
.RS
.PP
\fCCOMMENT_EDITOR\fR \[u2013] text editor program path,
default \fCdefaulttexteditor\fR.
.PP
\fCCOMMENT_OPTIONS\fR \[u2013] additional command options
Run \fCs-write-comment.sh --help\fR to see available options.
.RE
.SS Help
At a shell prompt run the following line:
.LP
.EX
s-write-comment.sh --help
.EE
.PP
Also this file is \[u201C]the\[u201D] help file, so keep it around for future reference
because it isn\[u2019]t installed by default.  However, if the \fCman\fR command is
installed, you will be able to view these contents by running command:
.LP
.EX
man s-write-comment
.EE
.SS AUTHOR
step
.PP
.SS LINKS
\fBHomepage\fR
\fBgithub.com/step-/scripts-to-go\fR (\fIhttps://github.com/step-/scripts-to-go\fR)
.PP
\fB:1\fR release page
\fBgithub.com/step-/scripts-to-go/releases\fR (\fIhttps://github.com/step-/scripts-to-go/releases\fR)
.PP
\fB:4\fR Fatdog64 Linux
\fBdistro.ibiblio.org/fatdog/web/\fR (\fIhttp://distro.ibiblio.org/fatdog/web/\fR)
.PP
\fB:5\fR yad - a GTK dialog program
\fBgithub.com/v1cont/yad\fR (\fIhttps://github.com/v1cont/yad/\fR)
.IP "\(bu" 2
Fatdog64 800 binary package
\fBdistro.ibiblio.org/fatdog/packages/800/yad\fIgtk2-0.42.0\fR5\fR (\fIhttp://distro.ibiblio.org/fatdog/packages/800/yad_gtk2-0.42.0_5-x86_64-1.txz\fR)
.IP "\(bu" 2
Fatdog64 800 source (the build recipe can be found under \fC/usr/src\fR in the binary package)
\fBdistro.ibiblio.org/fatdog/source/800/yad_gtk2-62d54eb5bf5ae2457c6986c33c6de89a6284f969.tar.gz\fR (\fIhttp://distro.ibiblio.org/fatdog/source/800/yad_gtk2-62d54eb5bf5ae2457c6986c33c6de89a6284f969.tar.gz\fR)
.LP
\fB:8\fR Puppy Linux
\fBpuppylinux.com\fR (\fIhttp://puppylinux.com\fR)
.IP "\(bu" 2
wiki
\fBpuppylinux.org\fR (\fIhttp://puppylinux.org\fR)
.IP "\(bu" 2
forum
\fBmurga-linux.com/puppy\fR (\fIhttp://murga-linux.com/puppy/\fR)
